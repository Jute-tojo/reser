import{a as $,b as ee}from"./chunk-KDR6X5LH.js";import{d as F}from"./chunk-ZTW5YY55.js";import{a as L}from"./chunk-2A5SUI77.js";import{a as Z}from"./chunk-KUFQUZ4J.js";import{b as q,c as z,d as G,e as H,g as Y,h as R,i as Q,k as J,l as K,m as U,o as X}from"./chunk-ISZBRUZ3.js";import"./chunk-3C3YSSO3.js";import{Gb as i,Hb as v,Ib as c,Jb as j,Kb as g,Lb as x,Mb as y,Ob as V,Pb as B,Tb as P,Ub as C,Xa as a,Ya as w,ga as S,gb as _,hb as M,ib as b,jb as E,lb as k,mb as N,nb as T,ob as D,pb as e,qb as r,ra as u,rb as s,sa as f,uc as W,xb as p,xc as O,yb as I,yc as A}from"./chunk-WTZ3W42X.js";var te=()=>({applyLabel:"Valider",format:"DD-MM-YYYY"});function re(d,h){if(d&1&&(e(0,"option",17),i(1),r()),d&2){let o=h.$implicit;b("value",o.type),a(),v(o.type)}}function oe(d,h){if(d&1&&(e(0,"span",44),i(1),r(),s(2,"img",20),e(3,"span",44),i(4),r(),e(5,"span",44),i(6),P(7,"date"),P(8,"date"),r()),d&2){let o=I();a(),c("reduction: ",o.type.reduction," "),a(3),c("montant: ",o.type.prixPromo," Ar "),a(2),j("date: ",C(7,4,o.selected.startDate,"d/m/y")," \xE0 ",C(8,7,o.selected.endDate,"d/m/y"),"")}}function ie(d,h){d&1&&s(0,"img",20)}function ne(d,h){d&1&&(e(0,"p",45),i(1,"Veuillez entrer un prix avant d'ajouter un prix promo."),r())}var ye=(()=>{class d{service;router;sous_category;type_locations=[{type:"heure",prixNormal:0,prixPromo:0,showError:!1,reduction:0},{type:"jour",prixNormal:0,prixPromo:0,showError:!1,reduction:0},{type:"semaine",prixNormal:0,prixPromo:0,showError:!1,reduction:0},{type:"mois",prixNormal:0,prixPromo:0,showError:!1,reduction:0},{type:"ann\xE9e",prixNormal:0,prixPromo:0,showError:!1,reduction:0}];type=this.type_locations[0];nbr=1;selected={startDate:new Date(2024,7,12),endDate:new Date(2024,11,23)};constructor(o,l){this.service=o,this.router=l}ngOnInit(){this.service.activity.category&&(this.sous_category=this.service.activity.category)}selectType(o){this.type=this.type_locations.find(l=>l.type==o.target.value)??{type:"heure",prixNormal:0,prixPromo:0,showError:!1,reduction:0},console.log("Type s\xE9lectionn\xE9:",this.type_locations.find(l=>l.type==o.target.value))}reduction(){let o=(this.selectedPromo.prixNormal-(this.selectedPromo.prixNormal-1))/this.selectedPromo.prixNormal*100;return this.selectedPromo.prixPromo<this.selectedPromo.prixNormal&&(o=(this.selectedPromo.prixNormal-this.selectedPromo.prixPromo)/this.selectedPromo.prixNormal*100),this.selectedPromo.reduction=parseFloat(o.toFixed(1))}setNbr(o="increment"){this.nbr=o=="increment"?this.nbr+1:this.nbr>1?this.nbr-1:this.nbr}add=!1;addPromo(){let o=this.type_locations.find(l=>l.type===this.selectedPromo?.type);o&&(o.prixPromo=this.selectedPromo.prixPromo,o.reduction=this.selectedPromo.reduction,this.add=!0,this.close())}checkMaxValue(){this.selectedPromo.prixPromo>=this.selectedPromo.prixNormal&&(this.selectedPromo.prixPromo=this.selectedPromo.prixNormal-1)}selectedPromo={type:"heure",prixNormal:0,prixPromo:0,reduction:0,showError:!1};modal;openModal(o,l){if(o.preventDefault(),l.prixNormal<=0)l.showError=!0;else{l.showError=!1,this.selectedPromo=l;let t=document.getElementById("modal-promo"),m={placement:"center",backdrop:"dynamic",backdropClasses:"bg-gray-900/80 fixed inset-0 z-40",closable:!0,onHide:()=>{this.selectedPromo={type:"heure",prixNormal:0,prixPromo:0,reduction:0,showError:!1},this.add||(l.prixPromo=0)},onShow:()=>{},onToggle:()=>{}},n={id:"modal-promo",override:!0};this.modal=new L(t,m,n),this.modal.show()}}close(){this.modal&&(this.modal.hide(),this.add=!1)}static \u0275fac=function(l){return new(l||d)(w(Z),w(F))};static \u0275cmp=S({type:d,selectors:[["app-propos"]],standalone:!0,features:[V],decls:75,vars:16,consts:[[1,"text-center"],[1,"text-3xl","font-semibold"],[1,"text-sm","font-thin"],[1,"flex","flex-col","justify-center","items-center","container","mb-16","mt-8"],[1,"px-4","items-center","flex","justify-between","border","border-slate-300","hover:border-black","hover:bg-slate-100","bg-slate-50","rounded-xl","py-3","w-full","lg:w-2/3","xl:1/2","my-2"],[1,"font-medium"],[1,"lowercase"],[1,"font-thin","text-xs","text-start"],[1,"relative","flex","items-center","max-w-[8rem]"],["type","button","id","decrement-button","data-input-counter-decrement","quantity-input",1,"bg-gray-100","hover:bg-gray-200","border","border-gray-300","rounded-s-lg","p-3","h-11","focus:ring-gray-100","focus:ring-2","focus:outline-none",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 18 2",1,"w-3","h-3","text-gray-900"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 1h16"],["disabled","true","type","text","id","quantity-input","data-input-counter","","aria-describedby","helper-text-explanation","value","1","required","",1,"bg-gray-50","border-x-0","border-gray-300","h-11","text-center","text-gray-900","text-sm","focus:ring-blue-500","focus:border-blue-500","block","w-full","py-2.5",3,"ngModelChange","ngModel"],["type","button","id","increment-button","data-input-counter-increment","quantity-input",1,"bg-gray-100","hover:bg-gray-200","border","border-gray-300","rounded-e-lg","p-3","h-11","focus:ring-gray-100","focus:ring-2","focus:outline-none",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 18 18",1,"w-3","h-3","text-gray-900"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 1v16M1 9h16"],["name","type","id","type",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","p-2.5",2,"width","16.3rem",3,"change"],[3,"value"],[1,"flex","justify-start","items-center","flex-row","gap-2"],["href","#",1,"font-normal","underline",3,"click"],["src","icons/promo.png","alt","icon promom","width","30"],[1,"relative"],[1,"flex","items-center"],["type","number","value","0","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-60","p-2.5","me-1",3,"ngModelChange","ngModel"],["class","text-red-500 text-xs mt-1 w-60",4,"ngIf"],["id","modal-promo","tabindex","-1","aria-hidden","true",1,"hidden","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-start","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","p-4","w-full","max-w-xl","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t"],[1,"text-lg","font-semibold","text-gray-900","flex","gap-1"],["type","button","data-modal-toggle","modal-promo",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5"],[1,"grid","gap-4","mb-4","grid-cols-2"],[1,"col-span-2"],["for","price",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","number","name","price","id","price","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"change","ngModelChange","ngModel"],["for","date",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","text","ngxDaterangepickerMd","","name","date",1,"cursor-pointer","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5",3,"ngModelChange","locale","ngModel"],[1,"w-32","mt-3","text-gray-900","bg-gradient-to-r","from-yellow-200","via-yellow-300","to-yellow-400","hover:bg-gradient-to-bl","focus:ring-4","focus:outline-none","focus:ring-red-100","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","me-2","mb-2",3,"click"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"float-start","me-1","-ms-1","w-5","h-5"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"],[1,"text-sm"],[1,"text-red-500","text-xs","mt-1","w-60"]],template:function(l,t){l&1&&(e(0,"div",0)(1,"h1",1),i(2,"Comment tu-loues le service ?"),r(),e(3,"h2",2),i(4,"Il est possible de donner un ou plusieurs prix."),r(),e(5,"div",3)(6,"div",4)(7,"div",5),i(8," Combien de "),e(9,"span",6),i(10),r(),i(11," louez-vous ? "),e(12,"div",7),i(13,"Obligatoir"),r()(),e(14,"div",8)(15,"button",9),p("click",function(){return t.setNbr("decrement")}),u(),e(16,"svg",10),s(17,"path",11),r()(),f(),e(18,"input",12),y("ngModelChange",function(n){return x(t.nbr,n)||(t.nbr=n),n}),r(),e(19,"button",13),p("click",function(){return t.setNbr("increment")}),u(),e(20,"svg",14),s(21,"path",15),r()()()(),f(),e(22,"div",4)(23,"div",5),i(24," Comment d\xE9terminez-vous le prix de votre service ? "),r(),e(25,"select",16),p("change",function(n){return t.selectType(n)}),T(26,re,2,2,"option",17,N),r()(),e(28,"div",4)(29,"div",5),i(30),e(31,"div",7),i(32,"Obligatoir"),r(),e(33,"div",18)(34,"a",19),p("click",function(n){return t.openModal(n,t.type)}),i(35),r(),_(36,oe,9,10)(37,ie,1,0,"img",20),r()(),e(38,"div",21)(39,"div",22)(40,"input",23),y("ngModelChange",function(n){return x(t.type.prixNormal,n)||(t.type.prixNormal=n),n}),r(),i(41," Ar "),r(),_(42,ne,2,0,"p",24),r()()()(),e(43,"div",25)(44,"div",26)(45,"div",27)(46,"div",28)(47,"h3",29),s(48,"img",20),i(49," Prix promotionnel "),r(),e(50,"button",30),u(),e(51,"svg",31),s(52,"path",32),r(),f(),e(53,"span",33),i(54,"Close modal"),r()()(),e(55,"form",34)(56,"div",35)(57,"div",36)(58,"label",37),i(59,"Prix normal "),e(60,"span"),i(61),r()(),e(62,"label",37),i(63,"Prix promo "),e(64,"span"),i(65),r()(),e(66,"input",38),p("change",function(){return t.checkMaxValue()}),y("ngModelChange",function(n){return x(t.selectedPromo.prixPromo,n)||(t.selectedPromo.prixPromo=n),n}),r()(),e(67,"div",36)(68,"label",39),i(69,"Date du promotion"),r(),e(70,"input",40),y("ngModelChange",function(n){return x(t.selected,n)||(t.selected=n),n}),r()()(),e(71,"button",41),p("click",function(){return t.addPromo()}),u(),e(72,"svg",42),s(73,"path",43),r(),i(74," Ajouter "),r()()()()()),l&2&&(a(10),v(t.sous_category!=null&&t.sous_category.text?t.sous_category==null?null:t.sous_category.text:"service"),a(8),g("ngModel",t.nbr),a(8),D(t.type_locations),a(4),c(" Quel est le prix pour la location de 1 ",t.type.type," ? "),a(5),v(t.type.prixPromo?"Modifier le prix promo ":"Ajouter un prix promo"),a(),k(t.type.prixPromo!=0?36:37),a(4),E("border-red-500",t.type.showError),g("ngModel",t.type.prixNormal),a(2),b("ngIf",t.type.showError),a(19),c("",t.selectedPromo.prixNormal," Ar"),a(4),c("(",t.reduction(),"% de r\xE9ducton)"),a(),g("ngModel",t.selectedPromo.prixPromo),M("max",t.selectedPromo.prixNormal),a(4),b("locale",B(15,te)),g("ngModel",t.selected))},dependencies:[A,W,O,X,R,J,K,q,Q,z,G,U,Y,H,ee,$],styles:[".md-drppicker td.active, .md-drppicker[_ngcontent-%COMP%]   td.active[_ngcontent-%COMP%]:hover{background-color:var(--primary-color)!important;color:#000!important;font-weight:500}  .md-drppicker th{color:#000!important;font-weight:300!important}  .md-drppicker.double{width:32rem!important;left:auto!important;right:0!important;margin-top:12px}  .btn{background-color:var(--primary-color)!important;color:#000!important}#modal-promo[_ngcontent-%COMP%]{align-items:start!important}"]})}return d})();export{ye as ProposComponent};
