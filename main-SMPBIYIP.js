import{a as G}from"./chunk-RHL7NBBV.js";import{b as Ue}from"./chunk-KDR6X5LH.js";import{a as Me}from"./chunk-HNP77CBO.js";import{a as Z,b as Le}from"./chunk-77FNTV77.js";import{a as Se,c as D,d as Ee,e as Ie,f as _e}from"./chunk-ZTW5YY55.js";import{a as Oe,e as Ve,f as Ae}from"./chunk-E6NDCVZW.js";import{a as Te,b as ke}from"./chunk-2A5SUI77.js";import{a as je}from"./chunk-KUFQUZ4J.js";import"./chunk-ISZBRUZ3.js";import{a as Re,b as De,f as Pe,h as Fe,m as Ne}from"./chunk-WKBKJ3WG.js";import{a as xe,d as Ce}from"./chunk-3C3YSSO3.js";import{A as ee,Ac as K,B as P,Cb as de,D as F,Db as ue,E as N,Ea as W,Eb as me,F as y,G as x,Gb as m,Ib as he,K as g,M as te,Ob as S,Qb as _,R as re,Ua as pe,V as I,X as ie,Xa as d,Ya as z,Yb as fe,_ as L,_b as q,a as Y,ba as ne,bc as ge,cc as ve,da as j,ga as C,gb as B,ib as u,ja as oe,ka as se,lb as ce,n as X,pa as O,pb as s,qa as V,qb as l,ra as U,rb as c,sa as H,sc as we,t as M,u as J,uc as be,va as ae,vb as A,vc as ye,x as f,xb as v,ya as le,yb as w,yc as R}from"./chunk-WTZ3W42X.js";var Ye=["scrollContainer"],Xe=e=>({"top-header":e}),Je=e=>({"top-hot":e}),He=(()=>{class e{menuView=Ae;isScrolled=!1;onScroll(r){this.isScrolled=window.scrollY>6}activity=Ve;filtreType=Oe.Category;orientation=-1;btnRight=!1;btnLeft=!1;scrollContainer;scrollHorizontal(r){let t=this.scrollContainer?.nativeElement,n=t.scrollWidth-t.clientWidth,o=n*r/100;t.scrollLeft+=o,this.orientation=o,this.btnRight=t.scrollLeft>=n,this.btnLeft=t.scrollLeft<=0}choiceCategory(r){this.menuView.forEach(t=>t.isActive=t.icon===r.icon)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=C({type:e,selectors:[["app-home"]],viewQuery:function(t,n){if(t&1&&de(Ye,5),t&2){let o;ue(o=me())&&(n.scrollContainer=o.first)}},hostBindings:function(t,n){t&1&&v("scroll",function(p){return n.onScroll(p)},!1,pe)},standalone:!0,features:[S],decls:3,vars:8,consts:[["type","home",1,"pb-8","bg-primary",3,"isScrolled","ngClass"],[2,"padding","60px 25px 25px 25px","position","relative","top","-26px","background","white","border-radius","25px",3,"ngClass"],[3,"data"]],template:function(t,n){t&1&&(c(0,"header",0),s(1,"div",1),c(2,"card-list",2),l()),t&2&&(u("isScrolled",n.isScrolled)("ngClass",_(4,Xe,n.isScrolled)),d(),u("ngClass",_(6,Je,n.isScrolled)),d(),u("data",n.activity))},dependencies:[Le,R,we,Me],styles:[".top-hot[_ngcontent-%COMP%]{top:110px!important}.top-header[_ngcontent-%COMP%]{z-index:100;position:relative}"]})}return e})();var et=e=>({width:e});function tt(e,i){if(e&1){let r=A();s(0,"button",24),v("click",function(){O(r);let n=w();return V(n.prev())}),c(1,"fa-icon",25),m(2," Retour "),l()}if(e&2){let r=w();d(),u("icon",r.icon.left)}}function rt(e,i){if(e&1){let r=A();s(0,"button",24),v("click",function(){O(r);let n=w();return V(n.next())}),m(1," Suivant "),c(2,"fa-icon",26),l()}if(e&2){let r=w();d(2),u("icon",r.icon.right)}}function it(e,i){if(e&1){let r=A();s(0,"button",24),v("click",function(){O(r);let n=w();return V(n.next())}),m(1," Publier "),c(2,"fa-icon",26),l()}if(e&2){let r=w();d(2),u("icon",r.icon.share)}}var We=(()=>{class e{router;alertService;routeStep=["/activity/about","/activity/titre","/activity/parametrage","/activity/caracteristique","/activity/image","/activity/video","/activity/propos","/activity/localisation"];progress=0;separator=0;icon={left:Fe,right:Pe,share:Ne};currentIndex=0;routeSub;preView=!1;nextView=!1;alert={msg:""};isAlert=!0;constructor(r,t){this.router=r,this.alertService=t}ngOnInit(){this.currentIndex=this.routeStep.indexOf(this.router.url),this.separator=100/(this.routeStep.length-1),this.checkView(),this.routeSub=this.router.events.subscribe(r=>{r instanceof Se&&(this.currentIndex=this.routeStep.indexOf(r.urlAfterRedirects),this.checkView())}),this.alertService.childEvent$.subscribe(r=>{this.isAlert=!1})}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe()}prev(){this.currentIndex>0&&this.currentIndex<=this.routeStep.length-1&&(this.router.navigate([this.routeStep[this.currentIndex-1]]),this.progress-=this.separator)}next(){let r=!0;this.currentIndex==0&&this.isAlert?(r=!1,this.openModal("Veuillez choisir une cat\xE9gorie")):this.currentIndex==2?this.alertService.activity.propos&&this.alertService.activity.propos.length<3&&(r=!1,this.openModal("Veuillez remplir au moins 3 propos")):this.currentIndex==3&&this.alertService.activity.caracteristique&&this.alertService.activity.caracteristique.length<3&&(r=!1,this.openModal("Veuillez remplir au moins 3 sections")),this.currentIndex>=0&&this.currentIndex<this.routeStep.length-1&&r&&(this.router.navigate([this.routeStep[this.currentIndex+1]]),this.progress+=this.separator)}checkView(){this.progress=this.currentIndex*this.separator,this.preView=this.currentIndex!=0,this.nextView=this.currentIndex!=this.routeStep.length-1}modal;openModal(r){this.alert.msg=r;let t=document.getElementById("popup-modal-alert"),n={placement:"center",backdrop:"dynamic",backdropClasses:"bg-gray-900/80 fixed inset-0 z-40",closable:!0,onHide:()=>{},onShow:()=>{},onToggle:()=>{}},o={id:"popup-modal-alert",override:!0};this.modal=new Te(t,n,o),this.modal.show()}close(){this.modal&&this.modal.hide()}static \u0275fac=function(t){return new(t||e)(z(Ee),z(je))};static \u0275cmp=C({type:e,selectors:[["app-step"]],standalone:!0,features:[S],decls:33,vars:6,consts:[[1,"container","px-6","mx-auto","bg-white","border-0","md:px-6","lg:px-11"],["id","top-nav",1,"z-50","flex","flex-wrap","justify-between","py-4","md:flex-nowrap"],["href","/","routerLink","/",1,"w-1/4","text-primary",2,"font-size","25px"],[1,"flex","items-center","justify-end","w-1/4","menu-right"],["routerLink","/",1,"flex","items-center","justify-center","px-4","py-2","text-black","border","text-nowrap","rounded-3xl","hover:border-slate-950"],[1,"container","px-6","mx-auto","md:px-6","lg:px-11"],[1,"fixed","bottom-0","w-full","bg-white","border","shadow-2xl"],[1,"w-full","h-1","bg-gray-200","rounded-full"],[1,"h-1","bg-gray-700","rounded-full",3,"ngStyle"],[1,"flex","justify-between","w-full","px-4"],["class","mt-3 text-gray-900 bg-gradient-to-r from-yellow-200 via-yellow-300 to-yellow-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-red-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",3,"click",4,"ngIf"],[1,"mt-3","text-gray-900","bg-gradient-to-r","from-yellow-200","via-yellow-300","to-yellow-400","hover:bg-gradient-to-bl","focus:ring-4","focus:outline-none","focus:ring-red-100","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","me-2","mb-2"],["id","popup-modal-alert","tabindex","-1",1,"hidden","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow"],["type","button","data-modal-hide","popup-modal",1,"absolute","top-3","end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5","text-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","text-gray-400","w-12","h-12"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"mb-5","text-lg","font-normal","text-gray-500"],["type","button",1,"text-white","text-sm","bg-red-600","hover:bg-red-800","focus:ring-4","focus:outline-none","focus:ring-red-300","font-medium","rounded-lg","inline-flex","items-center","px-5","py-2.5","text-center",3,"click"],[1,"mt-3","text-gray-900","bg-gradient-to-r","from-yellow-200","via-yellow-300","to-yellow-400","hover:bg-gradient-to-bl","focus:ring-4","focus:outline-none","focus:ring-red-100","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","me-2","mb-2",3,"click"],[1,"me-2",3,"icon"],[1,"ms-2",3,"icon"]],template:function(t,n){t&1&&(s(0,"div",0)(1,"div",1)(2,"a",2),m(3," Reservat.ion "),l(),s(4,"div",3)(5,"button",4),m(6," Annuler "),l()()()(),s(7,"div",5),c(8,"router-outlet"),l(),s(9,"div",6)(10,"div",7),c(11,"div",8),l(),s(12,"div",9)(13,"div"),B(14,tt,3,1,"button",10),l(),s(15,"div"),B(16,rt,3,1,"button",11)(17,it,3,1,"button",11),l()()(),s(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),U(),s(22,"svg",16),c(23,"path",17),l(),H(),s(24,"span",18),m(25,"Close modal"),l()(),s(26,"div",19),U(),s(27,"svg",20),c(28,"path",21),l(),H(),s(29,"h3",22),m(30),l(),s(31,"button",23),v("click",function(){return n.close()}),m(32," D'accord "),l()()()()()),t&2&&(d(11),u("ngStyle",_(4,et,n.progress+"%")),d(3),u("ngIf",n.preView),d(2),ce(n.nextView?16:17),d(14),he(" ",n.alert.msg," "))},dependencies:[D,Ie,De,Re,R,be,ye]})}return e})();var ze=[{path:"",component:He},{path:"details/:id",loadComponent:()=>import("./chunk-S2Y3QFLI.js").then(e=>e.DetailsComponent)},{path:"category/:id",loadComponent:()=>import("./chunk-EMDYVHWW.js").then(e=>e.CategoryComponent)},{path:"activity",component:We,children:[{path:"about",loadComponent:()=>import("./chunk-7375F5UL.js").then(e=>e.PresentationComponent)},{path:"parametrage",loadComponent:()=>import("./chunk-JOTNZ3RE.js").then(e=>e.ParametrageComponent)},{path:"caracteristique",loadComponent:()=>import("./chunk-P6RJJUXE.js").then(e=>e.CaracteristiqueComponent)},{path:"titre",loadComponent:()=>import("./chunk-EBUGYF5G.js").then(e=>e.TitleComponent)},{path:"image",loadComponent:()=>import("./chunk-4XSTIIEU.js").then(e=>e.ImageComponent)},{path:"propos",loadComponent:()=>import("./chunk-6TYNORSR.js").then(e=>e.ProposComponent)},{path:"video",loadComponent:()=>import("./chunk-ZXVJPTRQ.js").then(e=>e.VideoComponent)},{path:"localisation",loadComponent:()=>import("./chunk-GWIQZ375.js").then(e=>e.LocalisationComponent)}]}];var k="Service workers are disabled or not supported by this browser";function nt(e){return P(()=>J(new Error(e)))}var E=class{constructor(i){if(this.serviceWorker=i,!i)this.worker=this.events=this.registration=nt(k);else{let t=F(i,"controllerchange").pipe(f(()=>i.controller)),n=P(()=>M(i.controller)),o=ee(n,t);this.worker=o.pipe(x(b=>!!b)),this.registration=this.worker.pipe(I(()=>i.getRegistration()));let $=F(i,"message").pipe(f(b=>b.data)).pipe(x(b=>b&&b.type)).pipe(re());$.connect(),this.events=$}}postMessage(i,r){return this.worker.pipe(g(1),ie(t=>{t.postMessage(Y({action:i},r))})).toPromise().then(()=>{})}postMessageWithOperation(i,r,t){let n=this.waitForOperationCompleted(t),o=this.postMessage(i,r);return Promise.all([o,n]).then(([,p])=>p)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(i){let r;return typeof i=="string"?r=t=>t.type===i:r=t=>i.includes(t.type),this.events.pipe(x(r))}nextEventOfType(i){return this.eventsOfType(i).pipe(g(1))}waitForOperationCompleted(i){return this.eventsOfType("OPERATION_COMPLETED").pipe(x(r=>r.nonce===i),g(1),f(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},ot=(()=>{let i=class i{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new X,!t.isEnabled){this.messages=y,this.notificationClicks=y,this.subscription=y;return}this.messages=this.sw.eventsOfType("PUSH").pipe(f(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(f(o=>o.data)),this.pushManager=this.sw.registration.pipe(f(o=>o.pushManager));let n=this.pushManager.pipe(I(o=>o.getSubscription()));this.subscription=N(n,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(k));let n={userVisibleOnly:!0},o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),p=new Uint8Array(new ArrayBuffer(o.length));for(let a=0;a<o.length;a++)p[a]=o.charCodeAt(a);return n.applicationServerKey=p,this.pushManager.pipe(I(a=>a.subscribe(n)),g(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(k));let t=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(g(1),I(t)).toPromise()}decodeBase64(t){return atob(t)}};i.\u0275fac=function(n){return new(n||i)(j(E))},i.\u0275prov=L({token:i,factory:i.\u0275fac});let e=i;return e})(),st=(()=>{let i=class i{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=y,this.unrecoverable=y;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(k));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(k));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}};i.\u0275fac=function(n){return new(n||i)(j(E))},i.\u0275prov=L({token:i,factory:i.\u0275fac});let e=i;return e})();var Be=new ne("");function at(e,i,r,t){return()=>{if(!(K(t)&&"serviceWorker"in navigator&&r.enabled!==!1))return;let n=e.get(le),o=e.get(q);n.runOutsideAngular(()=>{let a=navigator.serviceWorker,h=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",h),o.onDestroy(()=>{a.removeEventListener("controllerchange",h)})});let p;if(typeof r.registrationStrategy=="function")p=r.registrationStrategy();else{let[a,...h]=(r.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":p=M(null);break;case"registerWithDelay":p=qe(+h[0]||0);break;case"registerWhenStable":p=h[0]?N(Ke(e),qe(+h[0])):Ke(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${r.registrationStrategy}`)}}n.runOutsideAngular(()=>p.pipe(g(1)).subscribe(()=>navigator.serviceWorker.register(i,{scope:r.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function qe(e){return M(null).pipe(te(e))}function Ke(e){return e.get(q).isStable.pipe(x(r=>r))}function lt(e,i){return new E(K(i)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var T=class{};function Ze(e,i={}){return oe([ot,st,{provide:Be,useValue:e},{provide:T,useValue:i},{provide:E,useFactory:lt,deps:[T,W]},{provide:fe,useFactory:at,deps:[ae,Be,T,W],multi:!0}])}var Ge={providers:[ge({eventCoalescing:!0}),_e(ze),Ze("ngsw-worker.js",{enabled:!ve(),registrationStrategy:"registerWhenStable:30000"}),Ce(),se(Ue.forRoot()),{provide:G,useValue:new G({apiKey:"AIzaSyA3UTwOVKAPDMGXXaWumh-BU3hR9UTU4zM",libraries:["places"]})},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,lang:"fr",providers:[{id:Z.PROVIDER_ID,provider:new Z("773022234025530")}],onError:e=>{console.error(e)}}}]};var Qe=(()=>{class e{title="Reservation";ngOnInit(){ke()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=C({type:e,selectors:[["app-root"]],standalone:!0,features:[S],decls:1,vars:0,template:function(t,n){t&1&&c(0,"router-outlet")},dependencies:[D]})}return e})();xe(Qe,Ge).catch(e=>console.error(e));
