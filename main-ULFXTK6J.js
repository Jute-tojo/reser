import{a as oe}from"./chunk-RHL7NBBV.js";import{b as Ye}from"./chunk-5U3U2ALV.js";import{a as Be}from"./chunk-2QJD4DQR.js";import{a as B,b as ie,c as re,d as $e}from"./chunk-YHBVEFZ5.js";import{a as Ne,c as H,d as U,e as je,f as Fe}from"./chunk-CUVTBZ27.js";import"./chunk-3RETBU2J.js";import{a as We,b as ze,c as z}from"./chunk-WZBX67VH.js";import{a as Je}from"./chunk-PUFDDUVI.js";import{a as O,c as Le,g as He,h as Ue}from"./chunk-WZCDW6UZ.js";import"./chunk-4LIJIOCZ.js";import{a as W}from"./chunk-MHYODFT6.js";import{a as G,b as q,f as Ge,h as qe,n as Ke,o as Ze,p as Qe}from"./chunk-DLHH74IQ.js";import{a as De,d as Pe}from"./chunk-BMKU3L64.js";import{b as Ve,c as Re}from"./chunk-F6ALSF6O.js";import{A as pe,B as K,Bc as L,D as Z,Db as xe,Dc as te,E as Q,Eb as Ce,F as x,Fa as Y,Fb as Se,G as C,Hb as u,Ib as Ee,Jb as ke,K as y,M as de,Pb as E,R as me,Rb as A,Sb as _e,V as _,Va as we,X as ue,Ya as d,Za as f,_ as $,_b as Ie,a as ae,ac as ee,ba as he,da as J,dc as Me,ea as I,ec as Te,ga as S,hb as X,jb as m,ka as fe,la as ge,mb as be,n as le,qa as P,qb as s,ra as N,rb as a,sa as M,sb as p,t as D,ta as T,u as ce,uc as F,wa as ve,wb as j,wc as Ae,x as v,xc as Oe,yb as h,za as ye,zb as w}from"./chunk-KF4CC2I3.js";var Xe=(e,o)=>{let i=I(U);return I(B).isAuthenticated()?!0:(i.navigate(["/"]),!1)};var dt=["scrollContainer"],mt=e=>({"top-header":e}),ut=e=>({"top-hot":e}),et=(()=>{class e{menuView=Ue;isScrolled=!1;onScroll(i){this.isScrolled=window.scrollY>6}activity=He;filtreType=Le.Category;orientation=-1;btnRight=!1;btnLeft=!1;scrollContainer;scrollHorizontal(i){let t=this.scrollContainer?.nativeElement,r=t.scrollWidth-t.clientWidth,n=r*i/100;t.scrollLeft+=n,this.orientation=n,this.btnRight=t.scrollLeft>=r,this.btnLeft=t.scrollLeft<=0}choiceCategory(i){this.menuView.forEach(t=>t.isActive=t.icon===i.icon)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=S({type:e,selectors:[["app-home"]],viewQuery:function(t,r){if(t&1&&xe(dt,5),t&2){let n;Ce(n=Se())&&(r.scrollContainer=n.first)}},hostBindings:function(t,r){t&1&&h("scroll",function(c){return r.onScroll(c)},!1,we)},standalone:!0,features:[E],decls:3,vars:8,consts:[["type","home",1,"pb-8","bg-primary",3,"isScrolled","ngClass"],[2,"padding","60px 25px 25px 25px","position","relative","top","-26px","background","white","border-radius","25px",3,"ngClass"],[3,"data"]],template:function(t,r){t&1&&(p(0,"header",0),s(1,"div",1),p(2,"card-list",2),a()),t&2&&(m("isScrolled",r.isScrolled)("ngClass",A(4,mt,r.isScrolled)),d(),m("ngClass",A(6,ut,r.isScrolled)),d(),m("data",r.activity))},dependencies:[$e,L,F,Be],styles:[".top-hot[_ngcontent-%COMP%]{top:110px!important}.top-header[_ngcontent-%COMP%]{z-index:100;position:relative}"]})}return e})();var vt=e=>({width:e});function yt(e,o){if(e&1){let i=j();s(0,"button",24),h("click",function(){P(i);let r=w();return N(r.prev())}),p(1,"fa-icon",25),u(2," Retour "),a()}if(e&2){let i=w();d(),m("icon",i.icon.left)}}function wt(e,o){if(e&1){let i=j();s(0,"button",24),h("click",function(){P(i);let r=w();return N(r.next())}),u(1," Suivant "),p(2,"fa-icon",26),a()}if(e&2){let i=w();d(2),m("icon",i.icon.right)}}function bt(e,o){if(e&1){let i=j();s(0,"button",24),h("click",function(){P(i);let r=w();return N(r.next())}),u(1," Publier "),p(2,"fa-icon",26),a()}if(e&2){let i=w();d(2),m("icon",i.icon.share)}}var tt=(()=>{class e{router;alertService;activity;cookieService;routeStep=["/activity/about","/activity/titre","/activity/parametrage","/activity/caracteristique","/activity/image","/activity/video","/activity/propos","/activity/localisation"];progress=0;separator=0;icon={left:qe,right:Ge,share:Qe};currentIndex=0;routeSub;preView=!1;nextView=!1;alert={msg:""};constructor(i,t,r,n){this.router=i,this.alertService=t,this.activity=r,this.cookieService=n}ngOnInit(){this.currentIndex=this.routeStep.indexOf(this.router.url),this.separator=100/(this.routeStep.length-1),this.checkView();let i=parseInt(this.cookieService.get("activity_id")??0);i&&this.activity.getDetails(i),this.routeSub=this.router.events.subscribe(t=>{t instanceof Ne&&(this.currentIndex=this.routeStep.indexOf(t.urlAfterRedirects),this.checkView())})}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe()}prev(){this.currentIndex>0&&this.currentIndex<=this.routeStep.length-1&&(this.router.navigate([this.routeStep[this.currentIndex-1]]),this.progress-=this.separator)}next(){let i=!0;this.currentIndex==0&&this.activity.step1.category_id<=0?(i=!1,this.openModal("Veuillez choisir une cat\xE9gorie")):this.currentIndex==2?this.alertService.activity.propos&&this.alertService.activity.propos.length<3&&(i=!1,this.openModal("Veuillez remplir au moins 3 propos")):this.currentIndex==3&&this.alertService.activity.caracteristique&&this.alertService.activity.caracteristique.length<3&&(i=!1,this.openModal("Veuillez remplir au moins 3 sections"));let t={category_id:0,client_id:0,id:0,status:"UNAVAILABLE",step:0,title:"fqds"};switch(this.currentIndex){case 0:i&&(t.category_id=this.activity.step1.category_id,this.cookieService.set("activity",JSON.stringify(t),{path:"/",domain:O}),console.log(JSON.parse(this.cookieService.get("activity"))));break;case 1:i=!1,this.activity.addServiceStep1().subscribe(r=>{this.cookieService.set("activity",JSON.stringify(r.service),{path:"/",domain:O}),console.log(this.cookieService.get("activity")),r.done&&this.redirect("next")});break;default:break}i&&this.redirect("next")}checkView(){this.progress=this.currentIndex*this.separator,this.preView=this.currentIndex!=0,this.nextView=this.currentIndex!=this.routeStep.length-1}redirect(i){this.currentIndex>=0&&this.currentIndex<this.routeStep.length-1&&i=="next"&&(this.router.navigate([this.routeStep[this.currentIndex+1]]),this.progress+=this.separator)}modal;openModal(i){this.alert.msg=i;let t=document.getElementById("popup-modal-alert"),r={placement:"center",backdrop:"dynamic",backdropClasses:"bg-gray-900/80 fixed inset-0 z-40",closable:!0,onHide:()=>{},onShow:()=>{},onToggle:()=>{}},n={id:"popup-modal-alert",override:!0};this.modal=new We(t,r,n),this.modal.show()}close(){this.modal&&this.modal.hide()}static \u0275fac=function(t){return new(t||e)(f(U),f(z),f(Je),f(W))};static \u0275cmp=S({type:e,selectors:[["app-step"]],standalone:!0,features:[E],decls:33,vars:6,consts:[[1,"container","px-6","mx-auto","bg-white","border-0","md:px-6","lg:px-11"],["id","top-nav",1,"z-50","flex","flex-wrap","justify-between","py-4","md:flex-nowrap"],["href","/","routerLink","/",1,"w-1/4","text-primary",2,"font-size","25px"],[1,"flex","items-center","justify-end","w-1/4","menu-right"],["routerLink","/",1,"flex","items-center","justify-center","px-4","py-2","text-black","border","text-nowrap","rounded-3xl","hover:border-slate-950"],[1,"container","px-6","mx-auto","md:px-6","lg:px-11"],[1,"fixed","bottom-0","w-full","bg-white","border","shadow-2xl"],[1,"w-full","h-1","bg-gray-200","rounded-full"],[1,"h-1","bg-gray-700","rounded-full",3,"ngStyle"],[1,"flex","justify-between","w-full","px-4"],["class","mt-3 text-gray-900 bg-gradient-to-r from-yellow-200 via-yellow-300 to-yellow-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-red-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",3,"click",4,"ngIf"],[1,"mt-3","text-gray-900","bg-gradient-to-r","from-yellow-200","via-yellow-300","to-yellow-400","hover:bg-gradient-to-bl","focus:ring-4","focus:outline-none","focus:ring-red-100","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","me-2","mb-2"],["id","popup-modal-alert","tabindex","-1",1,"hidden","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow"],["type","button","data-modal-hide","popup-modal",1,"absolute","top-3","end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5","text-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","text-gray-400","w-12","h-12"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"mb-5","text-lg","font-normal","text-gray-500"],["type","button",1,"text-white","text-sm","bg-red-600","hover:bg-red-800","focus:ring-4","focus:outline-none","focus:ring-red-300","font-medium","rounded-lg","inline-flex","items-center","px-5","py-2.5","text-center",3,"click"],[1,"mt-3","text-gray-900","bg-gradient-to-r","from-yellow-200","via-yellow-300","to-yellow-400","hover:bg-gradient-to-bl","focus:ring-4","focus:outline-none","focus:ring-red-100","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","me-2","mb-2",3,"click"],[1,"me-2",3,"icon"],[1,"ms-2",3,"icon"]],template:function(t,r){t&1&&(s(0,"div",0)(1,"div",1)(2,"a",2),u(3," Reservat.ion "),a(),s(4,"div",3)(5,"button",4),u(6," Annuler "),a()()()(),s(7,"div",5),p(8,"router-outlet"),a(),s(9,"div",6)(10,"div",7),p(11,"div",8),a(),s(12,"div",9)(13,"div"),X(14,yt,3,1,"button",10),a(),s(15,"div"),X(16,wt,3,1,"button",11)(17,bt,3,1,"button",11),a()()(),s(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),M(),s(22,"svg",16),p(23,"path",17),a(),T(),s(24,"span",18),u(25,"Close modal"),a()(),s(26,"div",19),M(),s(27,"svg",20),p(28,"path",21),a(),T(),s(29,"h3",22),u(30),a(),s(31,"button",23),h("click",function(){return r.close()}),u(32," D'accord "),a()()()()()),t&2&&(d(11),m("ngStyle",A(4,vt,r.progress+"%")),d(3),m("ngIf",r.preView),d(2),be(r.nextView?16:17),d(14),ke(" ",r.alert.msg," "))},dependencies:[H,je,q,G,L,Ae,Oe]})}return e})();var it=[{path:"",component:et},{path:"details/:id",loadComponent:()=>import("./chunk-QEAB7D5A.js").then(e=>e.DetailsComponent)},{path:"category/:id",loadComponent:()=>import("./chunk-UKLQNGMJ.js").then(e=>e.CategoryComponent)},{path:"activity",canActivate:[Xe],component:tt,children:[{path:"about",loadComponent:()=>import("./chunk-JRDAD5VP.js").then(e=>e.PresentationComponent)},{path:"parametrage",loadComponent:()=>import("./chunk-OR6IKEF3.js").then(e=>e.ParametrageComponent)},{path:"caracteristique",loadComponent:()=>import("./chunk-5VHUDV45.js").then(e=>e.CaracteristiqueComponent)},{path:"titre",loadComponent:()=>import("./chunk-PN26YLYW.js").then(e=>e.TitleComponent)},{path:"image",loadComponent:()=>import("./chunk-24FYR5PY.js").then(e=>e.ImageComponent)},{path:"propos",loadComponent:()=>import("./chunk-3TROFEHX.js").then(e=>e.ProposComponent)},{path:"video",loadComponent:()=>import("./chunk-X7A66IPF.js").then(e=>e.VideoComponent)},{path:"localisation",loadComponent:()=>import("./chunk-LGADEGYL.js").then(e=>e.LocalisationComponent)}]}];var R="Service workers are disabled or not supported by this browser";function xt(e){return K(()=>ce(new Error(e)))}var k=class{constructor(o){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=xt(R);else{let t=Z(o,"controllerchange").pipe(v(()=>o.controller)),r=K(()=>D(o.controller)),n=pe(r,t);this.worker=n.pipe(C(b=>!!b)),this.registration=this.worker.pipe(_(()=>o.getRegistration()));let se=Z(o,"message").pipe(v(b=>b.data)).pipe(C(b=>b&&b.type)).pipe(me());se.connect(),this.events=se}}postMessage(o,i){return this.worker.pipe(y(1),ue(t=>{t.postMessage(ae({action:o},i))})).toPromise().then(()=>{})}postMessageWithOperation(o,i,t){let r=this.waitForOperationCompleted(t),n=this.postMessage(o,i);return Promise.all([n,r]).then(([,c])=>c)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(o){let i;return typeof o=="string"?i=t=>t.type===o:i=t=>o.includes(t.type),this.events.pipe(C(i))}nextEventOfType(o){return this.eventsOfType(o).pipe(y(1))}waitForOperationCompleted(o){return this.eventsOfType("OPERATION_COMPLETED").pipe(C(i=>i.nonce===o),y(1),v(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Ct=(()=>{let o=class o{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new le,!t.isEnabled){this.messages=x,this.notificationClicks=x,this.subscription=x;return}this.messages=this.sw.eventsOfType("PUSH").pipe(v(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(v(n=>n.data)),this.pushManager=this.sw.registration.pipe(v(n=>n.pushManager));let r=this.pushManager.pipe(_(n=>n.getSubscription()));this.subscription=Q(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(R));let r={userVisibleOnly:!0},n=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),c=new Uint8Array(new ArrayBuffer(n.length));for(let l=0;l<n.length;l++)c[l]=n.charCodeAt(l);return r.applicationServerKey=c,this.pushManager.pipe(_(l=>l.subscribe(r)),y(1)).toPromise().then(l=>(this.subscriptionChanges.next(l),l))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(R));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(n=>{if(!n)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(y(1),_(t)).toPromise()}decodeBase64(t){return atob(t)}};o.\u0275fac=function(r){return new(r||o)(J(k))},o.\u0275prov=$({token:o,factory:o.\u0275fac});let e=o;return e})(),St=(()=>{let o=class o{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=x,this.unrecoverable=x;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(R));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(R));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}};o.\u0275fac=function(r){return new(r||o)(J(k))},o.\u0275prov=$({token:o,factory:o.\u0275fac});let e=o;return e})();var rt=new he("");function Et(e,o,i,t){return()=>{if(!(te(t)&&"serviceWorker"in navigator&&i.enabled!==!1))return;let r=e.get(ye),n=e.get(ee);r.runOutsideAngular(()=>{let l=navigator.serviceWorker,g=()=>l.controller?.postMessage({action:"INITIALIZE"});l.addEventListener("controllerchange",g),n.onDestroy(()=>{l.removeEventListener("controllerchange",g)})});let c;if(typeof i.registrationStrategy=="function")c=i.registrationStrategy();else{let[l,...g]=(i.registrationStrategy||"registerWhenStable:30000").split(":");switch(l){case"registerImmediately":c=D(null);break;case"registerWithDelay":c=ot(+g[0]||0);break;case"registerWhenStable":c=g[0]?Q(nt(e),ot(+g[0])):nt(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${i.registrationStrategy}`)}}r.runOutsideAngular(()=>c.pipe(y(1)).subscribe(()=>navigator.serviceWorker.register(o,{scope:i.scope}).catch(l=>console.error("Service worker registration failed with:",l))))}}function ot(e){return D(null).pipe(de(e))}function nt(e){return e.get(ee).isStable.pipe(C(i=>i))}function kt(e,o){return new k(te(o)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var V=class{};function st(e,o={}){return fe([Ct,St,{provide:rt,useValue:e},{provide:V,useValue:o},{provide:k,useFactory:kt,deps:[V,Y]},{provide:Ie,useFactory:Et,deps:[ve,rt,V,Y],multi:!0}])}var at=(e,o)=>{let t=I(B).getToken();return t&&(e=e.clone({setHeaders:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})),o(e)};var lt={providers:[Me({eventCoalescing:!0}),Fe(it),st("ngsw-worker.js",{enabled:!Te(),registrationStrategy:"registerWhenStable:30000"}),Pe(),ge(Ye.forRoot()),{provide:oe,useValue:new oe({apiKey:"AIzaSyA3UTwOVKAPDMGXXaWumh-BU3hR9UTU4zM",libraries:["places"]})},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,lang:"fr",providers:[{id:re.PROVIDER_ID,provider:new re("773022234025530")},{id:ie.PROVIDER_ID,provider:new ie("175562658773-mehojd5ukrac86fnukanqgr5erccifr5.apps.googleusercontent.com")}],onError:e=>{console.error(e)}}},Ve(Re([at]))]};var _t=(e,o)=>({"text-green-700":e,"text-red-700":o}),ct=(()=>{class e{alert;cookieService;title="Reservation";icons={success:Ke,danger:Ze};ngOnInit(){ze(),this.cookieService.delete("isPublishLogin","/",O)}constructor(i,t){this.alert=i,this.cookieService=t}close(){this.alert.closeModal()}stopPropagation(i){i.stopPropagation()}static \u0275fac=function(t){return new(t||e)(f(z),f(W))};static \u0275cmp=S({type:e,selectors:[["app-root"]],standalone:!0,features:[E],decls:13,vars:6,consts:[["id","popup-modal-response","tabindex","-1",1,"hidden","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full",2,"z-index","160",3,"click"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow"],["type","button",1,"absolute","top-3","end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5","text-center"],[2,"font-size","50px",3,"ngClass","icon"],[1,"mb-5","text-lg","font-normal","text-gray-500"]],template:function(t,r){t&1&&(p(0,"router-outlet"),s(1,"div",0),h("click",function(c){return r.stopPropagation(c)}),s(2,"div",1)(3,"div",2)(4,"button",3),h("click",function(){return r.close()}),M(),s(5,"svg",4),p(6,"path",5),a(),T(),s(7,"span",6),u(8,"Close modal"),a()(),s(9,"div",7),p(10,"fa-icon",8),s(11,"h3",9),u(12),a()()()()()),t&2&&(d(10),m("ngClass",_e(3,_t,r.alert.type!="danger",r.alert.type=="danger"))("icon",r.alert.type=="danger"?r.icons.danger:r.icons.success),d(2),Ee(r.alert.msgResponse))},dependencies:[H,q,G,F]})}return e})();De(ct,lt).catch(e=>console.error(e));
